# 配置服务器

------
[TOC]

------

## 1 配置jdk

### 安装

```sh
rpm -qa |grep java
rpm -qa |grep jdk
rpm -qa |grep gcj

yum list java*
yum -y install java-1.8.0-openjdk.x86_64
java -version
```

### 卸载

```sh
rpm -qa |grep java
rpm -qa |grep jdk
rpm -qa |grep gcj
rpm -qa | grep java | xargs rpm -e --nodeps
yum -y remove java-1.8.0-openjdk.x86_64
```

### 配置环境变量

- 配置环境变量 `vim /etc/profile`， 在文件末尾加上

```sh
export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.151-1.b12.el7_4.x86_64
export PATH=$JAVA_HOME/bin:$PATH 
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
```



## 3 配置nginx

### 反向代理

```upstream.conf
upstream backend {
    server backend1.example.com       weight=5;
    server backend2.example.com:8080;
    server unix:/tmp/backend3;

    server backup1.example.com:8080   backup;
    server backup2.example.com:8080   backup;
}

server {
    location / {
        proxy_pass http://backend;
    }
}
```



